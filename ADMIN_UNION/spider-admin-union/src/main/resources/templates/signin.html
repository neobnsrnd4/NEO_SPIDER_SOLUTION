<!DOCTYPE html>
<html lang="en">

<head>
	<!-- Title Meta -->
	<meta charset="utf-8"/>
	<title>Sign In | BrandUI - Modern UI Kit with Layout</title>
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<meta content="A fully responsive premium admin dashboard template, Real Estate Management Admin Template"
	      name="description"/>
	<meta content="Techzaa" name="author"/>
	<meta content="IE=edge" http-equiv="X-UA-Compatible"/>

	<!-- App favicon -->
	<link href="/assets/images/favicon.ico" rel="shortcut icon">

	<!-- Vendor css (Require in all Page) -->
	<link href="/assets/css/vendor.min.css" rel="stylesheet" type="text/css"/>

	<!-- Icons css (Require in all Page) -->
	<link href="/assets/css/icons.min.css" rel="stylesheet" type="text/css"/>

	<!-- App css (Require in all Page) -->
	<link href="/assets/css/app.min.css" rel="stylesheet" type="text/css"/>

	<!-- Theme Config js (Require in all Page) -->
	<script src="/assets/js/config.min.js"></script>

</head>

<body class="authentication-bg">

<div class="account-pages pt-2 pt-sm-5 pb-4 pb-sm-5">
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-xl-5">
				<div class="card auth-card">
					<div class="card-body px-3 py-5">
						<div class="mx-auto mb-4 text-center auth-logo">
							<a class="logo-dark" href="/indexPage">
								<img alt="logo dark" height="32" src="/assets/images/logo-dark.png">
							</a>

							<a class="logo-light" href="/indexPage">
								<img alt="logo light" height="28" src="/assets/images/logo-light.png">
							</a>
						</div>


						<h2 class="fw-bold text-uppercase text-center fs-18">Sign In</h2>
						<p class="text-muted text-center mt-1 mb-4">사용자ID와 패스워드를 입력하세요(admin/admin)</p>

						<!-- 에러 메시지 출력 -->
						<div>
							<ul style="color: red;">
								<div th:if="${errMsg != null and !#strings.isEmpty(errMsg)}" th:text="${errMsg}"></div>
							</ul>
						</div>
						<div class="px-4">
							<form action="/loginProcess" class="authentication-form" method="post">
								<div class="mb-3">
									<label class="form-label" for="username">사용자ID</label>
									<!--                                                  <input type="email" id="example-email" name="example-email" class="form-control bg-light bg-opacity-50 border-light py-2" placeholder="Enter your email">-->
									<input class="form-control bg-light bg-opacity-50 border-light py-2" id="username" name="username"
									       placeholder="사용자ID를 입력하세요."
									       type="text"/>
								</div>
								<div class="mb-3">
									<label class="form-label" for="password">패스워드</label>
									<input class="form-control bg-light bg-opacity-50 border-light py-2" id="password" name='password'
									       placeholder="패스워드 입력"
									       type="password">
								</div>

								<div class="mb-3">
									<div class="form-check">
										<input class="form-check-input" id="checkbox-signin" type="checkbox">
										<label class="form-check-label" for="checkbox-signin">ID기억하기</label>
									</div>
								</div>

								<div class="mb-1 text-center d-grid">
									<button class="btn btn-danger py-2 fw-medium" type="submit">Sign In</button>
								</div>
							</form>
						</div> <!-- end col -->
					</div> <!-- end card-body -->
				</div> <!-- end card -->

				<p class="mb-0 text-center text-white"><a class="text-reset text-unline-dashed fw-bold ms-1"
				                                          href="/signup">신규사용자등록</a>
				</p>

			</div> <!-- end col -->
		</div> <!-- end row -->
	</div>
</div>

<!-- Vendor Javascript (Require in all Page) -->
<script src="/assets/js/vendor.js"></script>

<!-- App Javascript (Require in all Page) -->
<script src="/assets/js/app.js"></script>

<script>
    document.getElementById('checkbox-signin').addEventListener('change', function () {
        var checkbox = this;
        var usernameInput = document.getElementById('username');

        if (checkbox.checked) {
            // 쿠키에 username의 값을 저장
            var cookieValue = "username=" + usernameInput.value + "; path=/; max-age=604800;"; // 7일 유효기간
            document.cookie = cookieValue;
            alert('사용자ID 저장되었습니다.');
        } else {
            // 체크 해제 시 쿠키 삭제
            var deleteCookie = "username=; path=/; max-age=0;";
            document.cookie = deleteCookie;
            alert('사용자ID 삭제되었습니다.');
        }
    });


    // 페이지 로드 시 쿠키에서 username 값을 읽어와 input에 설정
    function getCookie(name) {
        var cookies = document.cookie.split('; ');
        for (var i = 0; i < cookies.length; i++) {
            var cookie = cookies[i].split('=');
            if (cookie[0] === name) {
                return cookie[1];
            }
        }
        return null;
    }

    // username 쿠키 값 가져오기
    var usernameFromCookie = getCookie('username');
    if (usernameFromCookie) {
        document.getElementById('username').value = usernameFromCookie;
    }


</script>


</body>

</html>